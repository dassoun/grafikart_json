<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script>
        /*
        // Palindromes
        const words = {
            kayak: true,
            SOS: true,
            Kayak: true,
            Bonjour: false,
        }
        for (let word in words) {
            if (!isPalindrome(word)) {
                console.error(`${word} n'est pas un palindrome`)
            } else {
                console.log(`${word} est un palindrome`)
            }
        }

        function isPalindrome(word) {
            const reversedWord = word
                .split('')
                .reverse()
                .join('')
            return word.toUpperCase() === reversedWord.toUpperCase()
        }
            */

            /*
        // Moyennes
        const students = [
            {
                name: 'John',
                notes: [1, 20, 18, 19, 12]
            },
            {
                name: 'Jane',
                notes: [17, 18, 20, 13, 15]
            },
            {
                name: 'Sophie',
                notes: [17, 12, 14, 15, 13]
            },
            {
                name: 'Marc',
                notes: [2, 3, 5, 8, 9]
            },
            {
                name: 'Manon',
                notes: [18, 17, 18, 19, 12]
            }
        ]

        const moyenne = (notes) => {
            let sum = 0
            for (let note of notes) {
                sum += note
            }
            return sum / notes.length
        }

        for (let student of students) {
            student.moyenne = moyenne(student.notes)
            student.worst = Math.min(...student.notes)
            student.best = Math.max(...student.notes)
        }

        function compareStudent(a, b) {
            return b.moyenne - a.moyenne
        }

        students.sort(compareStudent)

        console.log(students)

        const formatStudent = (student) => {
            return `${student.name} avec une moyenne de ${student.moyenne} (min : ${student.worst} ,  max : ${student.best})`
        }

        console.log(`Top 3 étudiants :
            1 : ${formatStudent(students[0])}
            2 : ${formatStudent(students[1])}
            3 : ${formatStudent(students[2])}`
        )
            */

        // Calculateur de fréquence
        const phrase = `Vous savez, moi je ne crois pas qu’il y ait de bonne ou de mauvaise situation. Moi, si je devais résumer ma vie aujourd’hui avec vous, je dirais que c’est d’abord des rencontres.`

        const frequencies = {}
        const ignored = [',', '?', ':', '!', '«', '»', '…', '’']
        let cleanedPhrase = phrase.toLowerCase()
        for(let character of ignored) {
            cleanedPhrase = cleanedPhrase.replaceAll(character, '')
        }

        const words = cleanedPhrase.split(' ')

        for(let word of words) {
            if (word !== '' && word.length >= 2) {
                if(frequencies[word]) {
                    frequencies[word]++
                } else {
                    frequencies[word] = 1
                }
            }
        }

        console.log(frequencies)

        const frequenciesArray = []
        for (let k in frequencies) {
            frequenciesArray.push({
                word: k,
                count: frequencies[k]
            })
        }

        function compareFrequency(a, b) {
            return b.count - a.count
        }

        frequenciesArray.sort(compareFrequency)

        console.log(frequenciesArray)

        const formatFrequency = (frequency) => {
            return `"${frequency.word}" avec une fréquence de ${frequency.count}`
        }

        console.log(`Top 3 des mots les plus présents :
            1 : ${formatFrequency(frequenciesArray[0])}
            2 : ${formatFrequency(frequenciesArray[1])}
            3 : ${formatFrequency(frequenciesArray[2])}`
        )
    </script>
</head>
<body>
    
</body>
</html>